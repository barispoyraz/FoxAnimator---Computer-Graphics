<!DOCTYPE html>
<html>
<head>
    <script id="vertex-shader" type="x-shader/x-vertex">
        attribute vec4 vPosition;
        attribute vec4 vColor;

        uniform mat4 modelViewMatrix;
        uniform mat4 projectionMatrix;
        
        varying vec4 fColor;
    void main(){
        gl_Position = projectionMatrix * modelViewMatrix * vPosition;
        fColor = vColor;
    }
</script>
    <script id="fragment-shader" type="x-shader/x-fragment">
    precision highp float;

    precision mediump float;
    varying vec4 fColor;

    void main(){
        gl_FragColor = fColor;
    }
</script>

<script type="text/javascript" src="../Source/webgl-utils.js"></script>
<script type="text/javascript" src="../Source/initShaders.js"></script>
<script type="text/javascript" src="../Source/MV.js"></script>
<script type="text/javascript" src="../Source/w3.js"></script>
    
    <script
  src="https://code.jquery.com/jquery-3.3.1.js"
  integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
  crossorigin="anonymous"></script>
    <script
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
  integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
  crossorigin="anonymous"></script>

  <!--Source: https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_js_rangeslider-->
  <style>
    .slidecontainer {
        width: 100%;
    }
    
    .slider {
        -webkit-appearance: none;
        width: 100%;
        height: 15px;
        background: #d3d3d3;
        outline: none;
        opacity: 0.7;
        -webkit-transition: .2s;
        transition: opacity .2s;
    }
    
    .slider:hover {
        opacity: 1;
    }
    
    .slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 25px;
        height: 25px;
        background: rgb(38, 132, 219);
        cursor: pointer;
    }
    
    .slider::-moz-range-thumb {
        width: 25px;
        height: 25px;
        background: #4CAF50;
        cursor: pointer;
    }

    .grid-container {
    display: inline-grid;
    grid-template-columns: 25% 25% 25% 25%;
    background-color: #2196F3;
    padding: 5px;
    width: 100%;
    }
    
    .grid-item {
    background-color: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(144, 175, 240, 0.8);
    padding: 20px;
    font-size: 9px;
    text-align: center;
    }
    </style>

</head>
<body>
    
    
        <div align = "center"> <b> <font color="black" face="verdana" size = "6">The Fox Animator </font> </b></div>
        <canvas id="gl-canvas" style= "width: 100%; height: 100%; display:grid; background: url('../Source/background.png')">
        Oops ... your browser doesn't support the HTML5 canvas element
        </canvas>
    
    <select id="a">
        <option value="open_mouth" selected>Open Mouth</option>
        <option value="close_mouth">Close Mouth</option>
    </select>
    
    <br>
    
    <!---Reference: https://www.w3schools.com/howto/howto_js_accordion.asp !-->
    <div class="grid-container">
            <div class="grid-item">
                <button class="accordion">General Transforms</button>
                <div class="panel" style="display: none">
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Movement - X axis</p>
                        <input id="foxMovementinXaxis" type="range" min="-24" max="21" step="0.1" class="slider" onInput="translateX(this.value)">
                    </div>
                    <br>
            
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Movement - Y axis</p>
                        <input id="foxMovementinYaxis" type="range" min="-10" max="10" step="0.1" class="slider" onInput="translateY(this.value)">
                    </div>
                    <br>
            
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Scaling </p>
                        <input id="foxScale" type="range" min="0.0001" max="2" step="0.001" class="slider"onInput="scale(this.value)">
                    </div>
                    <br>
            
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Body Rotation</p>
                        <input id="d" type="range" min="-180" max="180" step="0.1" class="slider" onInput="rotateLimb(torso, 0, 0, this.value)">
                    </div>
                </div>
            </div>

            <div class="grid-item">
                <button class="accordion">Upper Body Transformations</button>
                <div class="panel" style="display: none">
                    
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Head Rotation</p>
                        <input id="d" type="range" min="0" max="52" step="0.1" class="slider" onInput="rotateLimb(Head, 2.6, 1, this.value)">
                    </div>
                
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Neck Rotation</p>
                        <input id="d" type="range" min="-70" max="25" step="0.1" class="slider" onInput="rotateLimb(neck, 2.2, 0.5, this.value)">
                    </div>
                    
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Mouth Rotation</p>
                        <input id="mouth_rotation" type="range" min="-15" max="0" step="0.1" class="slider" onInput="rotateLimb(mouth, 3.3, 1.2, this.value)">
                    </div>
            
                </div>
            </div>

            <div class="grid-item">
                <button class="accordion">Lower Body Transformations</button>
                <div class="panel" style="display: none">
                    <button class="accordion">Front Legs</button>
                    <div class="panel" style="display: none">
                        <button class="accordion">Right</button>
                        <div class="panel" style="display: none">
                                <div class ="slidecontainer" style="display: inline-block">
                                    <p style="text-align: center">Upper Leg Rotation</p>
                                    <input id="legs_rotation" type="range" min="-45" max="90" step="0.1" class="slider" onInput="rotateLimb(rightFrontUpperLeg, 2.8, -1, this.value)">
                                </div>
                                <div class ="slidecontainer" style="display: inline-block">
                                    <p style="text-align: center">Lower Leg Rotation</p>
                                    <input id="legs_rotation" type="range" min="-120" max="45" step="0.1" class="slider" onInput="rotateLimb(rightFrontLowerLeg, 1.5, -2, this.value)">
                                </div>
                        
                                <div class ="slidecontainer" style="display: inline-block">
                                    <p style="text-align: center">Paw Rotation</p>
                                    <input id="legs_rotation" type="range" min="-45" max="45" step="0.1" class="slider" onInput="rotateLimb(rightFrontPaw, 1.5, -3.4, this.value)">
                                </div>
                        </div>
            
                        <button class="accordion">Left</button>
                        <div class="panel" style="display: none">
                            <div class ="slidecontainer" style="display: inline-block">
                                <p style="text-align: center">Upper Leg Rotation</p>
                                <input id="legs_rotation" type="range" min="-45" max="90" step="0.1" class="slider" onInput="rotateLimb(leftFrontUpperLeg, 2.8, -1, this.value)">
                            </div>
                            <div class ="slidecontainer" style="display: inline-block">
                                <p style="text-align: center">Lower Leg Rotation</p>
                                <input id="legs_rotation" type="range" min="-120" max="45" step="0.1" class="slider" onInput="rotateLimb(leftFrontLowerLeg, 1.5, -2, this.value)">
                            </div>
                    
                            <div class ="slidecontainer" style="display: inline-block">
                                <p style="text-align: center">Paw Rotation</p>
                                <input id="legs_rotation" type="range" min="-45" max="45" step="0.1" class="slider" onInput="rotateLimb(leftFrontPaw, 1.5, -3.4, this.value)">
                            </div>
                        </div>
                    </div>
            
                    <button class="accordion">Rear Legs</button>
                    <div class="panel" style="display: none">
                        <button class="accordion">Right</button>
                        <div class="panel" style="display: none">
                            <div class ="slidecontainer" style="display: inline-block">
                                <p style="text-align: center">Upper Leg Rotation</p>
                                <input id="legs_rotation" type="range" min="-50" max="75" step="0.1" class="slider" onInput="rotateLimb(rightRearUpperLeg, -2.1, -0.8, this.value)">
                            </div>
                            <div class ="slidecontainer" style="display: inline-block">
                                <p style="text-align: center">Lower Leg Rotation</p>
                                <input id="legs_rotation" type="range" min="-60" max="45" step="0.1" class="slider" onInput="rotateLimb(rightRearLowerLeg, -3.4, -2.4, this.value)">
                            </div>
                    
                            <div class ="slidecontainer" style="display: inline-block">
                                <p style="text-align: center">Paw Rotation</p>
                                <input id="legs_rotation" type="range" min="-45" max="45" step="0.1" class="slider" onInput="rotateLimb(rightRearPaw, -3.4, -3.5, this.value)">
                            </div>
                        </div>
            
                        <button class="accordion">Left</button>
                        <div class="panel" style="display: none">
                            <div class ="slidecontainer" style="display: inline-block">
                                <p style="text-align: center">Upper Leg Rotation</p>
                                <input id="legs_rotation" type="range" min="-50" max="75" step="0.1" class="slider" onInput="rotateLimb(leftRearUpperLeg, -2.1, -0.8, this.value)">
                            </div>
                            <div class ="slidecontainer" style="display: inline-block">
                                <p style="text-align: center">Lower Leg Rotation</p>
                                <input id="legs_rotation" type="range" min="-60" max="45" step="0.1" class="slider" onInput="rotateLimb(leftRearLowerLeg, -3.4, -2.4, this.value)">
                            </div>
                    
                            <div class ="slidecontainer" style="display: inline-block">
                                <p style="text-align: center">Paw Rotation</p>
                                <input id="legs_rotation" type="range" min="-45" max="45" step="0.1" class="slider" onInput="rotateLimb(leftRearPaw, -3.4, -3.5, this.value)">
                            </div>
                        </div>
                    </div>
                    </div>
            </div>
            <div class="grid-item">
                <button class="accordion">Tail Transformations</button>
                <div class="panel" style="display: none">
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Tail Base Change</p>
                        <input id="tailBaseChange" type="range" min="-90" max="75" step="0.1" class="slider" onInput="rotateLimb(tailBase, 1.2, 0.0, this.value)">
                    </div>
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Tail Body Change</p>
                        <input id="tailBaseChange" type="range" min="-20" max="20" step="0.1" class="slider" onInput="rotateLimb(tailBody, -4.3, 0.8, this.value)">
                    </div>
                    <div class ="slidecontainer" style="display: inline-block">
                        <p style="text-align: center">Tail Tip Change</p>
                        <input id="tailBaseChange" type="range" min="-20" max="20" step="0.1" class="slider" onInput="rotateLimb(tailTip, -5.6, 0.8, this.value)">
                    </div>  
                </div>
            </div>
        </div>
    </div>
        
    <script>
        var accordion = document.getElementsByClassName("accordion");
        var i;
                 
        for(i = 0; i < accordion.length; i++){
            accordion[i].addEventListener("click", function() {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.display === "block"){
                panel.style.display = "none";
            } 
            else{
                panel.style.display = "block";
            }
            });
        }
    
    </script>
        
        
</body>
<script type="text/javascript" src="../Source/animator.js"></script>
</html>